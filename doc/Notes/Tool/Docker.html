<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="date" content="2020-08-17" />
<link rel="stylesheet" href="https://shijingchang.cn/doc/assets/css/tufte.min.css">
<link href="https://fonts.loli.net/css2?family=Fira+Code&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://shijingchang.cn/doc/assets/css/extra.css">
<link href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.6/katex.min.css" rel="stylesheet">
<script src="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.6/katex.min.js"></script>
<script defer src="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.6/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
</head>

<body>
<div id="header">
<h1 class="title">Docker</h1>
<h3 class="date">2020-08-17</h3>
<div id="TOC">
<ul>
<li><a href="#basics" id="toc-basics"><span
class="toc-section-number">1</span> Basics</a>
<ul>
<li><a href="#basic-commands" id="toc-basic-commands"><span
class="toc-section-number">1.1</span> Basic commands</a></li>
</ul></li>
<li><a href="#installation" id="toc-installation"><span
class="toc-section-number">2</span> Installation</a>
<ul>
<li><a href="#centos-7" id="toc-centos-7"><span
class="toc-section-number">2.1</span> CentOS 7</a>
<ul>
<li><a href="#error-container-selinux-2.9"
id="toc-error-container-selinux-2.9"><span
class="toc-section-number">2.1.1</span> Error
<code>container-selinux &gt;= 2.9</code></a></li>
</ul></li>
</ul></li>
<li><a href="#docker-hub" id="toc-docker-hub"><span
class="toc-section-number">3</span> Docker Hub</a>
<ul>
<li><a href="#use-the-mirror-in-the-mainland-of-china"
id="toc-use-the-mirror-in-the-mainland-of-china"><span
class="toc-section-number">3.1</span> Use the mirror in the mainland of
China</a></li>
</ul></li>
</ul>
</div>
<div id="wrapper">
<h1 data-number="1" id="basics"><span
class="header-section-number">1</span> Basics</h1>
<h2 data-number="1.1" id="basic-commands"><span
class="header-section-number">1.1</span> Basic commands</h2>
<p>Run a container from an image</p>
<pre><code>docker run -name learn -i -t rbnics/rbnics /bin/bash</code></pre>
<ul>
<li><code>-name learn</code> specifies the name of the container</li>
<li><code>-i</code> keeps STDIN open even if not attached</li>
<li><code>-t</code> allocates a pseudo-TTY</li>
<li><code>/bin/bash</code> is the command name after the container
starts</li>
<li><code>rbnics/rbnics</code> is the image name</li>
</ul>
<h1 data-number="2" id="installation"><span
class="header-section-number">2</span> Installation</h1>
<h2 data-number="2.1" id="centos-7"><span
class="header-section-number">2.1</span> CentOS 7</h2>
<p>References</p>
<ul>
<li><a
href="https://www.runoob.com/docker/centos-docker-install.html">1</a></li>
</ul>
<h3 data-number="2.1.1" id="error-container-selinux-2.9"><span
class="header-section-number">2.1.1</span> Error
<code>container-selinux &gt;= 2.9</code></h3>
<p>You need to install the latest epel repo to install the required
version of <code>container-selinux</code>.</p>
<p><a
href="https://blog.csdn.net/qq_41772936/article/details/81080284">Reference</a></p>
<p>Remember to add the user to the docker group to avoid
<code>sudo</code>.</p>
<pre><code>sudo usermod -aG docker $USER</code></pre>
<h1 data-number="3" id="docker-hub"><span
class="header-section-number">3</span> Docker Hub</h1>
<h2 data-number="3.1" id="use-the-mirror-in-the-mainland-of-china"><span
class="header-section-number">3.1</span> Use the mirror in the mainland
of China</h2>
<p>Edit the config <code>/etc/docker/daemon.json</code> to add</p>
<pre><code>{
  &quot;registry-mirrors&quot;: [&quot;https://docker.mirrors.ustc.edu.cn/&quot;]
}</code></pre>
<p>Then restart docker</p>
<pre><code>sudo systemctl restart docker</code></pre>
<p><a
href="http://mirrors.ustc.edu.cn/help/dockerhub.html?spm=a2c4e.10696291.0.0.5d1c19a4xMzbp0&amp;highlight=docker">Reference</a></p>
</div>
<div class="customHr">.</div>
<footer>
  Created on 2020-08-17 with pandoc
</footer>
</body>
</html>

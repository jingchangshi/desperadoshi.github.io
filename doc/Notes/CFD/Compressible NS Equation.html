<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="date" content="2020-09-05" />
<link rel="stylesheet" href="https://shijingchang.cn/doc/assets/css/tufte.min.css">
<link href="https://fonts.loli.net/css2?family=Fira+Code&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://shijingchang.cn/doc/assets/css/extra.css">
<link href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.6/katex.min.css" rel="stylesheet">
<script src="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.6/katex.min.js"></script>
<script defer src="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.6/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
</head>

<body>
<div id="header">
<h1 class="title">Compressible NS Equation</h1>
<h3 class="date">2020-09-05</h3>
<div id="TOC">
<ul>
<li><a href="#conservative-form-and-convective-form"
id="toc-conservative-form-and-convective-form"><span
class="toc-section-number">1</span> Conservative Form and Convective
Form</a></li>
<li><a href="#stress" id="toc-stress"><span
class="toc-section-number">2</span> Stress</a></li>
<li><a href="#link-between-stress-tensor-and-wall-friction"
id="toc-link-between-stress-tensor-and-wall-friction"><span
class="toc-section-number">3</span> Link Between Stress Tensor and Wall
Friction</a>
<ul>
<li><a href="#shear-stress-vector" id="toc-shear-stress-vector"><span
class="toc-section-number">3.1</span> Shear Stress Vector</a></li>
<li><a href="#wall-friction" id="toc-wall-friction"><span
class="toc-section-number">3.2</span> Wall Friction</a></li>
</ul></li>
</ul>
</div>
<div id="wrapper">
<h1 data-number="1" id="conservative-form-and-convective-form"><span
class="header-section-number">1</span> Conservative Form and Convective
Form</h1>
<p>In the matrix form, it is</p>
<p><span class="math display">\[
\frac{\partial}{\partial t} \left ( \rho \vec{U} \right ) + \vec{\nabla}
\cdot \left ( \rho \vec{U} \otimes \vec{U} \right ) = - \vec{\nabla} p +
\vec{\nabla} \cdot \vec{\vec{\tau}}
\]</span></p>
<p>In the convective form, it is</p>
<p><span class="math display">\[
\rho \frac{D \vec{U}}{D t} = - \vec{\nabla} p + \vec{\nabla} \cdot
\vec{\vec{\tau}}
\]</span></p>
<p>where the material derivative is</p>
<p><span class="math display">\[
\frac{D}{Dt} = \frac{\partial}{\partial t} + \vec{U} \cdot \vec{\nabla}
\]</span></p>
<p>The link between the conservative form and the convective form is as
follows.</p>
<p>The outer product is defined as</p>
<p><span class="math display">\[
\vec{U} \otimes \vec{U} = \vec{U} \vec{U}^{T}
\]</span></p>
<p>which is a 2nd order tensor.</p>
<p>Decomposition of the conservative form would be</p>
<p><span class="math display">\[
\rho \frac{\partial}{\partial t} \vec{U} + \vec{U} \frac{\partial
\rho}{\partial t} + \rho \vec{\nabla} \cdot \left ( \vec{U} \otimes
\vec{U} \right ) + \left ( \vec{U} \otimes \vec{U} \right ) \cdot
\vec{\nabla} \rho
\]</span></p>
<p>According to the definition of the outer product, we have the
following relations,</p>
<p><span class="math display">\[
\begin{aligned}
\vec{\nabla} \cdot \left ( \vec{U} \otimes \vec{U} \right ) &amp;=
\vec{U} \cdot \left ( \vec{\nabla} \vec{U} \right ) + \vec{U} \left (
\vec{\nabla} \cdot \vec{U} \right ) \\
\left ( \vec{U} \otimes \vec{U} \right ) \cdot \vec{\nabla} \rho &amp;=
\vec{U} \left ( \vec{U} \cdot \vec{\nabla} \rho \right )
\end{aligned}
\]</span></p>
<p>Then decompose the conservative form to be</p>
<p><span class="math display">\[
\rho \frac{\partial}{\partial t} \vec{U} + \vec{U} \frac{\partial
\rho}{\partial t} + \rho \vec{U} \cdot \left ( \vec{\nabla} \vec{U}
\right ) + \rho \vec{U} \left ( \vec{\nabla} \cdot \vec{U} \right ) +
\vec{U} \left ( \vec{U} \cdot \vec{\nabla} \rho \right )
\]</span></p>
<p>Rearrange the terms,</p>
<p><span class="math display">\[
\begin{aligned}
&amp; \rho \left ( \frac{\partial}{\partial t} \vec{U} + \vec{U} \cdot
\left ( \vec{\nabla} \vec{U} \right ) \right ) + \vec{U} \left (
\frac{\partial \rho}{\partial t} + \rho \left ( \vec{\nabla} \cdot
\vec{U} \right ) + \left ( \vec{U} \cdot \vec{\nabla} \rho \right )
\right ) \\
=&amp; \rho \left ( \frac{\partial}{\partial t} \vec{U} + \vec{U} \cdot
\left ( \vec{\nabla} \vec{U} \right ) \right ) + \vec{U} \left (
\frac{\partial \rho}{\partial t} + \vec{\nabla} \cdot \left ( \rho
\vec{U} \right ) \right )
\end{aligned}
\]</span></p>
<p>The right term is the continuity equation and thus could be
removed.</p>
<p>Since the following relation</p>
<p><span class="math display">\[
\vec{U} \cdot \left ( \vec{\nabla} \vec{U} \right ) = \left ( \vec{U}
\cdot \vec{\nabla} \right ) \vec{U}
\]</span></p>
<p>the left term could be further manipulated to be the convective
form.</p>
<p>The above 3 relations could be explained by the index notion of the
tensor.</p>
<p>The divergence of the outer product is</p>
<p><span class="math display">\[
\begin{aligned}
\vec{\nabla} \cdot \left ( \vec{U} \otimes \vec{U} \right ) &amp;=
\vec{U} \cdot \left ( \vec{\nabla} \vec{U} \right ) + \vec{U} \left (
\vec{\nabla} \cdot \vec{U} \right ) \\
\sum^{3}{j=1} \frac{\partial U_i U_j}{\partial x_j} &amp;= \sum^{3}{j=1}
\left ( U_j \frac{\partial U_i}{\partial x_j} \right ) + U_i
\sum^{3}_{j=1} \frac{\partial U_j}{\partial x_j}
\end{aligned}
\]</span></p>
<p>The product of the outer product and the inner product is</p>
<p><span class="math display">\[
\begin{aligned}
\left ( \vec{U} \otimes \vec{U} \right ) \cdot \vec{\nabla} \rho &amp;=
\vec{U} \left ( \vec{U} \cdot \vec{\nabla} \rho \right ) \\
\sum^{3}{j=1} \left ( U_i U_j \right ) \frac{\partial \rho}{\partial
x_j} &amp;= U_i \sum^{3}{j=1} \left ( U_j \frac{\partial \rho}{\partial
x_j} \right )
\end{aligned}
\]</span></p>
<p>The inner product of the gradient is</p>
<p><span class="math display">\[
\begin{aligned}
\vec{U} \cdot \left ( \vec{\nabla} \vec{U} \right ) &amp;= \left (
\vec{U} \cdot \vec{\nabla} \right ) \vec{U} \\
\sum^{3}{j=1} \left ( U_j \frac{\partial U_i}{\partial x_j} \right )
&amp;= \sum^{3}{j=1} \left ( U_j \frac{\partial }{\partial x_j} \right )
U_i
\end{aligned}
\]</span></p>
<h1 data-number="2" id="stress"><span
class="header-section-number">2</span> Stress</h1>
<p>The pressure <span class="math inline">\(p\)</span> is equal to minus
the mean normal stress. Check Cauchy momentum equation.</p>
<p><span class="math inline">\(\vec{\vec{\tau}}\)</span> is the
deviatoric stress tensor. For Newtonian fluid,</p>
<p><span class="math display">\[
\tau_{ij} = \mu \left ( \frac{\partial U_i}{\partial x_j} +
\frac{\partial U_j}{\partial x_i} \right ) + \delta_{ij} \lambda
\frac{\partial U_k}{\partial x_k}
\]</span></p>
<p>where the bulk viscosity <span class="math inline">\(\lambda =
-\frac{2}{3} \mu\)</span> in the compressible fluid (which is actually
hard to determine) and set to be <span class="math inline">\(0\)</span>
in the incompressible fluid.</p>
<h1 data-number="3"
id="link-between-stress-tensor-and-wall-friction"><span
class="header-section-number">3</span> Link Between Stress Tensor and
Wall Friction</h1>
<h2 data-number="3.1" id="shear-stress-vector"><span
class="header-section-number">3.1</span> Shear Stress Vector</h2>
<p>The stress tensor is defined as</p>
<p><span class="math display">\[
\begin{aligned}
\vec{\vec{\tau}} &amp;= \begin{bmatrix} \tau_{xx} &amp; \tau_{xy} &amp;
\tau_{xz} \\
\tau_{yx} &amp; \tau_{yy} &amp; \tau_{yz} \\
\tau_{zx} &amp; \tau_{zy} &amp; \tau_{zz} \\
\end{bmatrix} \\
&amp;= \begin{bmatrix} 2 \mu \left ( \frac{\partial U_x}{\partial x}
\right ) + \lambda \vec{\nabla} \cdot \vec{U} &amp; \mu \left (
\frac{\partial U_x}{\partial y} + \frac{\partial U_y}{\partial x} \right
) &amp; \mu \left ( \frac{\partial U_x}{\partial z} + \frac{\partial
U_z}{\partial x} \right ) \\
\mu \left ( \frac{\partial U_y}{\partial x} + \frac{\partial
U_x}{\partial y} \right ) &amp; 2 \mu \left ( \frac{\partial
U_y}{\partial y} \right ) + \lambda \vec{\nabla} \cdot \vec{U} &amp; \mu
\left ( \frac{\partial U_y}{\partial z} + \frac{\partial U_z}{\partial
y} \right ) \\ \mu \left ( \frac{\partial U_z}{\partial x} +
\frac{\partial U_x}{\partial z} \right ) &amp; \mu \left (
\frac{\partial U_z}{\partial y} + \frac{\partial U_y}{\partial z} \right
) &amp; 2 \mu \left ( \frac{\partial U_z}{\partial z} \right ) + \lambda
\vec{\nabla} \cdot \vec{U} \\
\end{bmatrix}
\end{aligned}
\]</span></p>
<p>To obtain the wall friction, we need to project the stress tensor
along the normal vector of the wall face.</p>
<p><span class="math display">\[
\begin{aligned}
\vec{\vec{\tau}} \cdot \vec{n} &amp;=
\begin{bmatrix} \tau_{xx} n_x +\tau_{xy} n_y +\tau_{xz} n_z \\
\tau_{yx} n_x +\tau_{yy} n_y +\tau_{yz} n_z \\
\tau_{zx} n_x +\tau_{zy} n_y +\tau_{zz} n_z \\
\end{bmatrix} \\
&amp;= \begin{bmatrix}
\left ( 2 \mu \left ( \frac{\partial U_x}{\partial x} \right ) + \lambda
\vec{\nabla} \cdot \vec{U} \right ) n_x + \mu \left ( \frac{\partial
U_x}{\partial y} + \frac{\partial U_y}{\partial x} \right ) n_y + \mu
\left ( \frac{\partial U_x}{\partial z} + \frac{\partial U_z}{\partial
x} \right ) n_z \\
\mu \left ( \frac{\partial U_y}{\partial x} + \frac{\partial
U_x}{\partial y} \right ) n_x + \left ( 2 \mu \left ( \frac{\partial
U_y}{\partial y} \right ) + \lambda \vec{\nabla} \cdot \vec{U} \right )
n_y + \mu \left ( \frac{\partial U_y}{\partial z} + \frac{\partial
U_z}{\partial y} \right ) n_z \\
\mu \left ( \frac{\partial U_z}{\partial x} + \frac{\partial
U_x}{\partial z} \right ) n_x + \mu \left ( \frac{\partial U_z}{\partial
y} + \frac{\partial U_y}{\partial z} \right ) n_y + \left ( 2 \mu \left
( \frac{\partial U_z}{\partial z} \right ) + \lambda \vec{\nabla} \cdot
\vec{U} \right ) n_z \\
\end{bmatrix} \\
&amp;= \begin{bmatrix}
\mu \left ( \frac{\partial U_x}{\partial x} n_x + \frac{\partial
U_x}{\partial y} n_y + \frac{\partial U_x}{\partial z} n_z \right ) +
\mu \left ( \frac{\partial U_x}{\partial x} n_x + \frac{\partial
U_y}{\partial x} n_y + \frac{\partial U_z}{\partial x} n_z \right ) +
\lambda \vec{\nabla} \cdot \vec{U} n_x \\
\mu \left ( \frac{\partial U_y}{\partial x} n_x + \frac{\partial
U_y}{\partial y} n_y + \frac{\partial U_y}{\partial z} n_z \right ) +
\mu \left ( \frac{\partial U_x}{\partial y} n_x + \frac{\partial
U_y}{\partial y} n_y + \frac{\partial U_z}{\partial y} n_z \right ) +
\lambda \vec{\nabla} \cdot \vec{U} n_y \\
\mu \left ( \frac{\partial U_z}{\partial x} n_x + \frac{\partial
U_z}{\partial y} n_y + \frac{\partial U_z}{\partial z} n_z \right ) +
\mu \left ( \frac{\partial U_x}{\partial z} n_x + \frac{\partial
U_y}{\partial z} n_y + \frac{\partial U_z}{\partial z} n_z \right ) +
\lambda \vec{\nabla} \cdot \vec{U} n_z \\
\end{bmatrix} \\
&amp;= \begin{bmatrix}
\mu \left ( \vec{\nabla} U_x \right ) \cdot \vec{n} + \mu \frac{\partial
\vec{U}}{\partial x} \cdot \vec{n} + \lambda \vec{\nabla} \cdot \vec{U}
n_x \\
\mu \left ( \vec{\nabla} U_y \right ) \cdot \vec{n} + \mu \frac{\partial
\vec{U}}{\partial y} \cdot \vec{n} + \lambda \vec{\nabla} \cdot \vec{U}
n_y \\
\mu \left ( \vec{\nabla} U_z \right ) \cdot \vec{n} + \mu \frac{\partial
\vec{U}}{\partial z} \cdot \vec{n} + \lambda \vec{\nabla} \cdot \vec{U}
n_z \\
\end{bmatrix}
\end{aligned}
\]</span></p>
<p>For the wall friction, the bulk viscosity term could be removed since
it has nothing to do with the friction. And the impermeability condition
at the wall leads to <span class="math inline">\(\vec{U} \cdot
\vec{n}=0\)</span>. Therefore, <span
class="math inline">\(\vec{\vec{\tau}} \cdot \vec{n}\)</span> is
simplified to be</p>
<p><span class="math display">\[
\vec{\vec{\tau}} \cdot \vec{n} =
\begin{bmatrix}
\mu \left ( \vec{\nabla} \cdot \vec{n} \right ) U_x \\
\mu \left ( \vec{\nabla} \cdot \vec{n} \right ) U_y \\
\mu \left ( \vec{\nabla} \cdot \vec{n} \right ) U_z \\
\end{bmatrix}
= \mu \left ( \vec{\nabla} \cdot \vec{n} \right ) \vec{U}
\]</span></p>
<h2 data-number="3.2" id="wall-friction"><span
class="header-section-number">3.2</span> Wall Friction</h2>
<p>The wall friction is defined as</p>
<p><span class="math display">\[
\tau_w = \mu \frac{d U_{tan}}{d n} = \mu \left ( \vec{\nabla} \cdot
\vec{n} \right ) \left ( \vec{U} \cdot \vec{t} \right )
\]</span></p>
<p>Here, it is shown that the wall friction <span
class="math inline">\(\tau_w\)</span> is actually the wall-parallel
components of shear stress vector <span
class="math inline">\(\vec{\vec{\tau}} \cdot \vec{n}\)</span>.</p>
<p>But what does the shear stress vector mean? Check the following
figure.</p>
<figure>
<img
src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Components_stress_tensor_cartesian.svg/1024px-Components_stress_tensor_cartesian.svg.png"
alt="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Components_stress_tensor_cartesian.svg/1024px-Components_stress_tensor_cartesian.svg.png" />
<figcaption
aria-hidden="true">https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Components_stress_tensor_cartesian.svg/1024px-Components_stress_tensor_cartesian.svg.png</figcaption>
</figure>
<p>The dot product of a 2nd order tensor with a direction vector is
actually extracting the components of the 2nd order tensor along the
direction.</p>
</div>
<div class="customHr">.</div>
<footer>
  Created on 2020-09-05 with pandoc
</footer>
</body>
</html>
